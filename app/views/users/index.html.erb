<% content_for :content do %>
    <div class="title">List Users</div>
    <%= form_with do |form| %>
      <div class="main">
          <div class="input-group"> 
            <%# Search %>
            <%= form.text_field :search, :class => "form-control", :placeholder => "Search by Name" %>
            <div class="input-group-append">
              <%= form.button "Save", :class => "btn btn-primary" do %>
                <i class="fa fa-search"></i>
              <% end %>
            </div>
          </div>
      </div>
    <% end %>

    <div class="main-container table-responsive py-5"> 
        <table class="table table-bordered table-hover">
            <thead class="thead-dark">
                <tr>
                <th scope="col">#</th>
                <th scope="col">Name</th>
                <th scope="col">Email</th>
                <th scope="col" class="size-column">Action</th>
                </tr>
            </thead>
            <tbody>
                <% @users.each do |user| %>
                    <tr>
                        <th scope="row"><%= user.id %> </th>
                        <td><%= user.name %> </td>
                        <td><%= user.email %> </td>
                        <td>
                            <%= link_to "Edit", nil, { :class => "edit", "data-toggle" => "modal", "data-target" => "#edit-user"} %>
                            <%= link_to  "Delete", user, method: :delete, data: { confirm: "Really?" }, :class => "delete" %>
                        </td>
                    </tr>
                <% end %>
            </tbody>
        </table>
        <div class="d-flex justify-content-center">
          <%= will_paginate @clients, renderer: WillPaginate::ActionView::BootstrapLinkRenderer %>
        </div>
    </div>
    <!-- Modal edit user-->
    <div class="modal fade" id="edit-user" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Edit User</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <%= form_with do |form| %>
                <%# Username %>
                <div class="form-group row">
                    <%= form.label :username, "Username: ", :class => "col-md-4 col-form-label text-md-right label_add_post" %>
                    <div class="col-md-6">
                        <%= form.text_field :username, :class => "form-control" %>
                    </div>
                </div>

                <%# Email %>
                <div class="form-group row">
                    <%= form.label :email, "Email: ", :class => "col-md-4 col-form-label text-md-right label_add_post" %>
                    <div class="col-md-6">
                        <%= form.text_field :email, :class => "form-control" %>
                    </div>
                </div>

                <%# Role %>
                <div class="form-group row">
                    <%= form.label :role, "Role: ", :class => "col-md-4 col-form-label text-md-right label_add_post" %>
                    <div class="col-md-6">
                        <%= form.text_field :confirm_password, :class => "form-control", :disabled => true %>
                    </div>
                </div>

                <%# Save %>
                <div class="col-md-6 offset-md-4">
                    <%= form.button "Save", :class => "btn btn-primary" %>
                </div>
            <% end %>
        </div>
      </div>
    </div>
<% end %>
